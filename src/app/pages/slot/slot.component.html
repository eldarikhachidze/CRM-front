<div class="slot-machine-list">
  <h1>Slots</h1>
  <div class="grid-container">
    <div class="table-container">
      <table mat-table [dataSource]="slotMachines" class="mat-elevation-z8">

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name</th>
          <td mat-cell *matCellDef="let slotMachine"> {{slotMachine.name}} </td>
        </ng-container>

        <!-- Brand Column -->
        <ng-container matColumnDef="brand">
          <th mat-header-cell *matHeaderCellDef> Brand</th>
          <td mat-cell *matCellDef="let slotMachine"> {{slotMachine.brand}} </td>
        </ng-container>

        <!-- bvbMoney Column with Input Field -->
        <ng-container matColumnDef="bvbMoney">
          <th mat-header-cell *matHeaderCellDef> BVB Money</th>
          <td mat-cell *matCellDef="let slotMachine">
            <mat-form-field>
              <mat-label>Enter Money</mat-label>
              <input matInput [(ngModel)]="slotMachine.bvbMoney" placeholder="Enter BVB money">
            </mat-form-field>
          </td>
        </ng-container>

        <!-- Actions Column with Submit Button -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Actions</th>
          <td mat-cell *matCellDef="let slotMachine">
            <button mat-button color="primary" (click)="close(slotMachine.id, slotMachine.bvbMoney)">Close Slot</button>
          </td>
        </ng-container>

        <!-- Table Header -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

        <!-- Table Rows -->
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
    <div class="progress-container">
      <svg class="progress-bar" viewBox="0 0 100 50" width="200" height="120">
        <path class="background" d="M 10 50 A 40 40 0 0 1 90 50" stroke="lightgray" stroke-width="2" fill="none"></path>
        <path class="foreground" [attr.stroke-dasharray]="calculateStrokeDashArray()" stroke="green" stroke-width="2"
              fill="none" d="M 10 50 A 40 40 0 0 1 90 50"></path>

        <text x="0" y="10" font-size="8" fill="green">0</text>
        <text x="100" y="10" font-size="8" text-anchor="end" fill="green">{{ getMaxBvbMoney() }}</text>

        <text x="50" y="35" font-size="5" text-anchor="middle" fill="green">Total money</text>
        <text x="50" y="45" font-size="8" text-anchor="middle" fill="black">{{ getTotalBvbMoney() }}</text>
      </svg>

    </div>
  </div>
</div>
